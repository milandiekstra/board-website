<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SuperBoard Dashboard</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React, ReactDOM, en Recharts -->
    <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/recharts@2.1.9/umd/Recharts.min.js"></script>

    <!-- Babel standalone voor JSX transformatie -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0; }
            100% { opacity: 1; }
        }
        .typing-indicator::after {
            content: '|';
            animation: blink 1s infinite;
        }
    </style>
</head>
<body class="bg-gray-100">
    <nav class="bg-gradient-to-r from-purple-800 to-indigo-800 text-white p-4 shadow-lg">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center">
                <span class="font-bold text-2xl">SuperBoard</span>
            </div>
            <div class="hidden md:flex items-center space-x-6">
                <a href="#home" class="hover:text-purple-200 transition duration-300">Home</a>
                <a href="#voordelen" class="hover:text-purple-200 transition duration-300">Voordelen</a>
                <a href="#pilot" class="hover:text-purple-200 transition duration-300">Pilotprogramma</a>
                <a href="#over-ons" class="hover:text-purple-200 transition duration-300">Over Ons</a>
                <a href="#contact" class="hover:text-purple-200 transition duration-300">Contact</a>
            </div>
            <a href="#pilot" class="bg-white text-purple-800 px-6 py-2 rounded-full font-semibold hover:bg-purple-100 transition duration-300 shadow-md">Start SuperBoard Pilot</a>
        </div>
    </nav>

    <main class="container mx-auto px-4 py-8">
        <div id="superboard-dashboard"></div>
    </main>

    <footer class="bg-gray-800 text-white p-6 mt-12">
        <div class="container mx-auto text-center">
            <p>&copy; 2024 SuperBoard by BOARD B.V. Alle rechten voorbehouden.</p>
        </div>
    </footer>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { ResponsiveContainer, LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, PieChart, Pie, Cell, BarChart, Bar } = Recharts;

        // UI Components
        const Card = ({ children, className }) => (
            <div className={`bg-white shadow-lg rounded-lg overflow-hidden ${className}`}>
                {children}
            </div>
        );
        const CardHeader = ({ children }) => <div className="px-6 py-4 bg-gray-50 border-b border-gray-200">{children}</div>;
        const CardContent = ({ children }) => <div className="p-6">{children}</div>;
        const CardTitle = ({ children }) => <h2 className="text-xl font-semibold text-gray-800">{children}</h2>;
        
        const Select = ({ children, onValueChange, defaultValue }) => (
            <select 
                onChange={(e) => onValueChange(e.target.value)}
                defaultValue={defaultValue}
                className="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"
            >
                {children}
            </select>
        );
        
        const SelectItem = ({ value, children }) => <option value={value}>{children}</option>;

        // Fictieve geïntegreerde data voor het SuperBoard dashboard
        const superBoardData = [
            { 
                datum: '01-08-2024', 
                totaleCrossChannelOmzet: 2850000,
                totaleCrossChannelBestellingen: 95000,
                gemiddeldeCrossChannelOrderwaarde: 30,
                websiteBezoeken: 750000,
                shopifyOmzet: 1250000,
                bolcomOmzet: 1600000,
                leadConversieRatio: 12.5,
                klantenRetentieScore: 85,
                socialMediaEngagementScore: 7800,
                marketingROI: 450,
                voorraadEfficiëntie: 92,
                klanttevredenheidScore: 4.7,
                gemiddeldeKlantenlevensduurWaarde: 750,
                omzetPerMarketingKanaal: {
                    'Organisch zoeken': 800000,
                    'Social Media': 600000,
                    'E-mail marketing': 500000,
                    'Betaalde advertenties': 700000,
                    'Partnerprogramma\'s': 250000
                },
                productCategorieVerdeling: {
                    'Elektronica': 35,
                    'Mode': 25,
                    'Huis & Tuin': 20,
                    'Sport': 12,
                    'Boeken': 8
                }
            },
            // Meer datapunten hier toevoegen voor een realistischer beeld
        ];

        // Nieuwe geavanceerde KPI's en inzichten
        const calculateAdvancedKPIs = (data) => {
            return {
                crossChannelConversieRatio: (data.totaleCrossChannelBestellingen / data.websiteBezoeken) * 100,
                omzetDiversificatieIndex: 1 - Math.abs(data.shopifyOmzet - data.bolcomOmzet) / (data.shopifyOmzet + data.bolcomOmzet),
                klantLevenscyclusEfficiëntie: (data.gemiddeldeKlantenlevensduurWaarde / data.gemiddeldeCrossChannelOrderwaarde) * (data.klantenRetentieScore / 100),
                marketingEffectiviteitsScore: (data.socialMediaEngagementScore / 10000) * (data.marketingROI / 500) * 100,
                operationeleEfficiëntieIndex: (data.voorraadEfficiëntie / 100) * (data.klanttevredenheidScore / 5) * 100,
                omzetGroeiPotentieel: (1 - (data.leadConversieRatio / 100)) * data.gemiddeldeKlantenlevensduurWaarde * (data.klanttevredenheidScore / 5)
            };
        };

        const advancedKPIs = calculateAdvancedKPIs(superBoardData[0]);

        const SuperBoardDashboard = () => {
            const [selectedMetric, setSelectedMetric] = useState('totaleCrossChannelOmzet');

            const metrics = [
                { value: 'totaleCrossChannelOmzet', label: 'Totale Cross-Channel Omzet' },
                { value: 'crossChannelConversieRatio', label: 'Cross-Channel Conversie Ratio' },
                { value: 'omzetDiversificatieIndex', label: 'Omzet Diversificatie Index' },
                { value: 'klantLevenscyclusEfficiëntie', label: 'Klant Levenscyclus Efficiëntie' },
                { value: 'marketingEffectiviteitsScore', label: 'Marketing Effectiviteits Score' },
                { value: 'operationeleEfficiëntieIndex', label: 'Operationele Efficiëntie Index' },
                { value: 'omzetGroeiPotentieel', label: 'Omzet Groei Potentieel' },
            ];

            const COLORS = ['#8884d8', '#82ca9d', '#ffc658', '#ff7300', '#0088FE'];

            const formatCurrency = (value) => {
                return new Intl.NumberFormat('nl-NL', { style: 'currency', currency: 'EUR' }).format(value);
            };

            const formatPercentage = (value) => {
                return new Intl.NumberFormat('nl-NL', { style: 'percent', minimumFractionDigits: 2, maximumFractionDigits: 2 }).format(value / 100);
            };

            const formatNumber = (num) => {
                return new Intl.NumberFormat('nl-NL', { maximumFractionDigits: 2 }).format(num);
            };

            return (
                <div className="space-y-8 max-w-7xl mx-auto">
                    <h1 className="text-4xl font-bold mb-8 text-center text-purple-800">SuperBoard Alles-in-één Dashboard</h1>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <Card>
                            <CardHeader>
                                <CardTitle>Cross-Channel Conversie Ratio</CardTitle>
                            </CardHeader>
                            <CardContent>
                                <p className="text-3xl font-semibold text-purple-600">{formatPercentage(advancedKPIs.crossChannelConversieRatio)}</p>
                                <p className="text-sm text-gray-500 mt-2">Effectiviteit van alle verkoopkanalen samen</p>
                            </CardContent>
                        </Card>
                        <Card>
                            <CardHeader>
                                <CardTitle>Omzet Diversificatie Index</CardTitle>
                            </CardHeader>
                            <CardContent>
                                <p className="text-3xl font-semibold text-purple-600">{formatNumber(advancedKPIs.omzetDiversificatieIndex)}</p>
                                <p className="text-sm text-gray-500 mt-2">Balans tussen verschillende verkoopkanalen</p>
                            </CardContent>
                        </Card>
                        <Card>
                            <CardHeader>
                                <CardTitle>Klant Levenscyclus Efficiëntie</CardTitle>
                            </CardHeader>
                            <CardContent>
                                <p className="text-3xl font-semibold text-purple-600">{formatNumber(advancedKPIs.klantLevenscyclusEfficiëntie)}</p>
                                <p className="text-sm text-gray-500 mt-2">Waarde en retentie over de klantlevensduur</p>
                            </CardContent>
                        </Card>
                        <Card>
                            <CardHeader>
                                <CardTitle>Marketing Effectiviteits Score</CardTitle>
                            </CardHeader>
                            <CardContent>
                                <p className="text-3xl font-semibold text-purple-600">{formatNumber(advancedKPIs.marketingEffectiviteitsScore)}</p>
                                <p className="text-sm text-gray-500 mt-2">Combinatie van engagement en ROI</p>
                            </CardContent>
                        </Card>
                        <Card>
                            <CardHeader>
                                <CardTitle>Operationele Efficiëntie Index</CardTitle>
                            </CardHeader>
                            <CardContent>
                                <p className="text-3xl font-semibold text-purple-600">{formatNumber(advancedKPIs.operationeleEfficiëntieIndex)}</p>
                                <p className="text-sm text-gray-500 mt-2">Balans tussen voorraad en klanttevredenheid</p>
                            </CardContent>
                        </Card>
                        <Card>
                            <CardHeader>
                                <CardTitle>Omzet Groei Potentieel</CardTitle>
                            </CardHeader>
                            <CardContent>
                                <p className="text-3xl font-semibold text-purple-600">{formatCurrency(advancedKPIs.omzetGroeiPotentieel)}</p>
                                <p className="text-sm text-gray-500 mt-2">Potentiële omzetgroei gebaseerd op huidige metrics</p>
                            </CardContent>
                        </Card>
                    </div>

                    <Card>
                        <CardHeader>
                            <CardTitle>Cross-Channel Prestatie Overzicht</CardTitle>
                        </CardHeader>
                        <CardContent>
                            <Select onValueChange={setSelectedMetric} defaultValue={selectedMetric}>
                                {metrics.map((metric) => (
                                    <SelectItem key={metric.value} value={metric.value}>
                                        {metric.label}
                                    </SelectItem>
                                ))}
                            </Select>
                            <ResponsiveContainer width="100%" height={400}>
                                <LineChart data={superBoardData}>
                                    <CartesianGrid strokeDasharray="3 3" />
                                    <XAxis dataKey="datum" />
                                    <YAxis />
                                    <Tooltip />
                                    <Legend />
                                    <Line type="monotone" dataKey={selectedMetric} stroke="#8884d8" name={metrics.find(m => m.value === selectedMetric).label} />
                                </LineChart>
                            </ResponsiveContainer>
                        </CardContent>
                    </Card>

                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
                        <Card>
                            <CardHeader>
                                <CardTitle>Omzet per Marketing Kanaal</CardTitle>
                            </CardHeader>
                            <CardContent>
                                <ResponsiveContainer width="100%" height={300}>
                                    <PieChart>
                                        <Pie
                                            data={Object.entries(superBoardData[0].omzetPerMarketingKanaal).map(([name, value]) => ({ name, value }))}
                                            cx="50%"
                                            cy="50%"
                                            labelLine={false}
                                            outerRadius={80}
                                            fill="#8884d8"
                                            dataKey="value"
                                            label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}
                                        >
                                            {Object.entries(superBoardData[0].omzetPerMarketingKanaal).map((entry, index) => (
                                                <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />
                                            ))}
                                        </Pie>
                                        <Tooltip />
                                    </PieChart>
                                </ResponsiveContainer>
                            </CardContent>
                        </Card>

                        <Card>
                            <CardHeader>
                                <CardTitle>Product Categorie Verdeling</CardTitle>
                            </CardHeader>
                            <CardContent>
                                <ResponsiveContainer width="100%" height={300}>
                                    <BarChart data={Object.entries(superBoardData[0].productCategorieVerdeling).map(([name, value]) => ({ name, value }))}>
                                        <CartesianGrid strokeDasharray="3 3" />
                                        <XAxis dataKey="name" />
                                        <YAxis />
                                        <Tooltip />
                                        <Legend />
                                        <Bar dataKey="value" fill="#8884d8" />
                                    </BarChart>
                                </ResponsiveContainer>
                            </CardContent>
                        </Card>
                    </div>
                </div>
            );
        };

        const SuperBoardAI = () => {
            const [messages, setMessages] = useState([]);
            const [currentMessage, setCurrentMessage] = useState('');
            const [isTyping, setIsTyping] = useState(false);
            const [userInput, setUserInput] = useState('');

            const conversation = [
                {
                    question: "Wat is onze Cross-Channel Synergie Score en hoe kunnen we die verbeteren?",
                    answer: "Onze huidige Cross-Channel Synergie Score is 7.8 op een schaal van 10. Deze score is gebaseerd op de integratie en onderlinge versterking van onze verschillende verkoopkanalen. Om deze te verbeteren, kunnen we focussen op drie gebieden:\n\n1. Dataharmonisatie: Zorg voor een naadloze integratie van klantgegevens tussen Shopify, bol.com en andere kanalen. Dit zal leiden tot betere gepersonaliseerde ervaringen.\n\n2. Consistente merkervaring: Stem de gebruikerservaring, productpresentatie en klantenservice af over alle kanalen.\n\n3. Geoptimaliseerde voorraadallocatie: Gebruik AI om voorspellingen te maken en voorraad dynamisch te verdelen over kanalen op basis van vraag en marges."
                },
                {
                    question: "Hoe beïnvloedt onze sociale media strategie de cross-channel conversie?",
                    answer: "Onze sociale media strategie heeft een significant effect op onze cross-channel conversie. De Social Media Impact Multiplier (SMIM) voor onze cross-channel conversie is momenteel 1.35, wat betekent dat klanten die via sociale media betrokken zijn, 35% meer kans hebben om over meerdere kanalen te converteren.\n\nSpecifieke inzichten:\n1. Instagram-stories leiden tot 22% meer cross-channel verkeer naar zowel onze Shopify-store als bol.com-pagina.\n2. LinkedIn-posts over productinnovaties verhogen de B2B cross-channel conversies met 18%.\n3. User-generated content op TikTok heeft geleid tot een 40% stijging in de verkoop van trending producten over alle kanalen.\n\nOm dit verder te verbeteren, zouden we kunnen focussen op:\n- Geïntegreerde social commerce-functionaliteit\n- Verbeterde retargeting-strategieën over verschillende platforms\n- Het stimuleren van meer user-generated content met channel-specifieke hashtags"
                },
                {
                    question: "Wat is het effect van onze recente prijsstrategie op de Klant Levenscyclus Efficiëntie?",
                    answer: "Onze recente dynamische prijsstrategie heeft een positief effect gehad op de Klant Levenscyclus Efficiëntie (KLE). De KLE is gestegen van 25.3 naar 27.8, een verbetering van 9.9%.\n\nBelangrijke observaties:\n1. Cross-channel klanten: De gemiddelde orderwaarde voor klanten die op meerdere platforms kopen is gestegen met 15%, wat wijst op succesvol up-selling en cross-selling.\n2. Retentie: De klantbehoudpercentages zijn verbeterd met 7% over alle kanalen, wat duidt op een betere prijs-waardeperceptie.\n3. Segmentspecifieke impact: De KLE voor het premium klantsegment is met 12% gestegen, terwijl het voor het prijsgevoelige segment met 5% is toegenomen.\n\nAanbevelingen voor verdere verbetering:\n- Implementeer AI-gedreven persoonlijke prijsstellingen op basis van klantwaarde en aankoopgeschiedenis.\n- Ontwikkel kanaalspecifieke loyaliteitsprogramma's die de unieke voordelen van elk platform benutten.\n- Introduceer bundel-aanbiedingen die producten van verschillende categorieën combineren om de gemiddelde orderwaarde te verhogen."
                }
            ];

            const simulateTyping = (text, delay = 50) => {
                return new Promise((resolve) => {
                    let i = 0;
                    setIsTyping(true);
                    const intervalId = setInterval(() => {
                        setCurrentMessage((prev) => prev + text[i]);
                        i++;
                        if (i === text.length) {
                            clearInterval(intervalId);
                            setIsTyping(false);
                            resolve();
                        }
                    }, delay);
                });
            };

            const handleSendMessage = async () => {
                if (userInput.trim() === '') return;

                setMessages((prev) => [...prev, { text: userInput, isUser: true }]);
                setUserInput('');

                // Simulate AI thinking
                await new Promise((resolve) => setTimeout(resolve, 1000));

                // Find a relevant answer or generate a default response
                const relevantConversation = conversation.find(c => 
                    c.question.toLowerCase().includes(userInput.toLowerCase()) || 
                    userInput.toLowerCase().includes(c.question.toLowerCase())
                );

                const aiResponse = relevantConversation 
                    ? relevantConversation.answer 
                    : "Bedankt voor je vraag. Als SuperBoard AI kan ik gedetailleerde inzichten geven over onze cross-channel prestaties, maar voor deze specifieke vraag heb ik meer context nodig. Kun je meer details geven over welk aspect van onze operatie je wilt analyseren?";

                await simulateTyping(aiResponse);
                setMessages((prev) => [...prev, { text: aiResponse, isUser: false }]);
            };

            return (
                <Card className="mt-12">
                    <CardHeader>
                        <CardTitle>SuperBoard AI Assistent</CardTitle>
                    </CardHeader>
                    <CardContent>
                        <div className="h-96 overflow-y-auto mb-4 p-4 border border-gray-200 rounded">
                            {messages.map((message, index) => (
                                <div key={index} className={`mb-4 ${message.isUser ? 'text-right' : 'text-left'}`}>
                                    <span className={`inline-block p-2 rounded-lg ${
                                        message.isUser 
                                            ? 'bg-purple-600 text-white' 
                                            : 'bg-gray-200 text-black'
                                    }`}>
                                        {message.text}
                                    </span>
                                </div>
                            ))}
                            {isTyping && (
                                <div className="text-left">
                                    <span className="inline-block p-2 rounded-lg bg-gray-200 text-black typing-indicator">
                                        {currentMessage}
                                    </span>
                                </div>
                            )}
                        </div>
                        <div className="flex">
                            <input
                                type="text"
                                value={userInput}
                                onChange={(e) => setUserInput(e.target.value)}
                                onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}
                                placeholder="Stel een vraag aan SuperBoard AI..."
                                className="flex-grow p-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-purple-600"
                            />
                            <button
                                onClick={handleSendMessage}
                                className="bg-purple-600 text-white p-2 rounded-r-md hover:bg-purple-700 transition duration-300"
                            >
                                Verstuur
                            </button>
                        </div>
                    </CardContent>
                </Card>
            );
        };

        const SuperBoardDashboardWithAI = () => {
            return (
                <React.Fragment>
                    <SuperBoardDashboard />
                    <SuperBoardAI />
                </React.Fragment>
            );
        };

        ReactDOM.render(
            <React.StrictMode>
                <SuperBoardDashboardWithAI />
            </React.StrictMode>,
            document.getElementById('superboard-dashboard')
        );
    </script>
</body>
</html>